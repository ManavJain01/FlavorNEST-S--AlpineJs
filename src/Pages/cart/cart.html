<div
  class="text-gray-500 flex flex-col justify-center items-center gap-2 pb-10"
  x-data="{ cart : cart , total : setTotal()}"
>
  <div
    x-show="cart.length<=0"
    class="flex flex-col justify-center items-center gap-2"
  >
    <img src="../../../assets/images/empty_cart.png" alt="empty cart" />
    <h1 class="text-2xl">Your Cart Is Empty!</h1>
    <p class="mt-3">Add items to it now.</p>
    <button
      @click="currentPage = 'home'"
      class="text-sm text-white bg-orange-500 px-4 py-2 hover:border hover:border-orange-500 rounded-full"
      :class="darkMode ? 'hover:bg-black hover:text-white' : 'hover:bg-white hover:text-black'"
    >
      CONTINUE SHOPPING
    </button>
  </div>
  <div x-show="cart.length>0" class="flex gap-5">
    <div class="flex gap-5">
      <ul class="flex flex-wrap gap-5 mt-5">
        <template x-for="food in cart" :key="food.item">
          <li
            x-data="{  quantity: food.quantity || 1,
            increment(){
              food.quantity = food.quantity + 1;
              this.quantity = this.quantity + 1;
              total = setTotal();
            },
            decrement(){
              food.quantity = food.quantity<=0 ? 0:food.quantity-1 ;
              this.quantity = this.quantity<=0 ? 0:this.quantity-1 ;
              total = setTotal();
            } }"
            class="flex items-center gap-5 p-4 border rounded-xl"
          >
            <img
              :src="food.img || ''"
              alt="product image"
              class="h-24 w-24 rounded-xl"
            />

            <div class="flex flex-col gap-5">
              <span class="text-xl">Combos</span>
              <h2 class="text-sm font-bold" x-text="food.item"></h2>
            </div>

            <p class="text-gray-500">₹ <span x-text="food.price"></span></p>

            <div class="w-fit border border-orange-500 rounded">
              <button
                @click="decrement()"
                class="font-bold text-xl px-3 py-1 border-r"
              >
                -
              </button>
              <input
                type="number"
                name="quantity_in_cart"
                min="0"
                x-model="quantity"
                @change="console.log('Quantity changed to:', quantity)"
                class="w-12 pl-5 outline-none"
              />
              <button
                @click="increment()"
                class="font-bold text-xl px-3 py-1 border-l"
              >
                +
              </button>
            </div>

            <p>₹ <span x-text="food.price * quantity"></span></p>

            <i class="text-xl fa-light fa-trash-can"></i>
          </li>
        </template>
      </ul>
    </div>

    <div class="flex flex-col gap-3 p-5 shadow-md rounded-xl">
      <h1 class="font-semibold text-2xl">Order Summary</h1>
      <p class="text-xl">Specific instructions</p>
      <p class="bg-gray-200 px-5 py-1 border">
        Do you want to add any instructions?
      </p>

      <p class="flex justify-between pb-3 border-b">
        Total
        <span class="font-bold">₹ <span x-text="total"></span> </span>
      </p>

      <p class="flex justify-between pb-3 border-y">
        Service Fee <span class="font-bold">₹ 5.20</span>
      </p>

      <p class="flex justify-between pb-3 border-b">
        Tax <span class="font-bold">₹ 13.00</span>
      </p>

      <div class="flex flex-col gap-3">
        <span class="text-lg">Do you want to give a tip?</span>
        <div
          class="flex flex-col mx-auto py-2 px-3 border border-orange-500 rounded"
        >
          <button>Custom</button>
          <button>Amount</button>
        </div>
      </div>

      <p class="flex justify-between pb-3 border-y">
        Amount Payable <span class="font-bold">₹ 291.46</span>
      </p>
    </div>
  </div>
</div>
